# 环境配置
## node
本项目使用的是 `nodejs`。
### 安装

mac 终端执行下面命令就可以了，其他系统搜索一下就可以啦。

`brew install node`

### 环境

在 `package.json` 目录下执行下面的命令，就可以完成依赖项的初始化了。

`npm install`

### 启动服务
终端进入目录执行下面命令，完成项目的启动。

`node  servers.js`

--- 

## mysql
### 1. 下载
[点击前往下载](https://dev.mysql.com/downloads/mysql/)

### 2. 安装注意事项

   2.1 需要设置 root 账户和对应的密码，需要记住，后续服务器部分需要使用。

   2.2 密码格式选择弱密码

### 3. 创建 DB 和 表

3.1 进入终端登录mysql

```` /usr/local/mysql/bin/mysql -u root -p ````

输入 root 的密码

3.2  DB

创建

```` create database ipaInfo; ````

选择（我理解的是与这个 DB 进行连接）

```` use ipaInfo;```` 

3.3 表
````
CREATE TABLE IF NOT EXISTS `info`(
   `id` INT UNSIGNED AUTO_INCREMENT,
   `name` VARCHAR(100) NOT NULL,
   `version` VARCHAR(40) NOT NULL,
   `buildVersion` VARCHAR(40) NOT NULL,
   `description` VARCHAR(100) NOT NULL,
   `resourceURL` VARCHAR(100) NOT NULL,
   `date` Datetime,

   PRIMARY KEY ( `id` )
)ENGINE=InnoDB DEFAULT CHARSET=utf8;
````

### 4. 将数据库 node 链接起来
进入 [sqlBusiness.js](../sqlBusiness.js) 中，将 `mysql.createConnection` 中的 `user`、`password` 修改为你自己的。

---
## 证书

<p fontcolor=red>不想看细节的可以直接执行配置中的 certificate.sh [host] 进行证书的创建</p>

APPLE 需要 https 才可以下载 ipa，所以我们使用 openSSL 自建证书以供下载。

openSSL在 mysql 中已经集成，可以直接使用。

````
私钥

openssl genrsa -out privateCA.pem 2048

创建证书

openssl req -x509 -new -key privateCA.pem -out myCA.cer -days 365 -subj /CN=(服务器的 ip 地址)
````
PS：我们只需要根据域名创建 CA， 然后直接使用 CA 就可以了，不需要额外创建子证书


## 完成
好了，接下来就好好享用吧
